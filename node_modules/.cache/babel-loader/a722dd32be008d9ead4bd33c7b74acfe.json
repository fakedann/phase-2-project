{"ast":null,"code":"import _defineProperty from\"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Popover from'react-bootstrap/Popover';import OverlayTrigger from'react-bootstrap/OverlayTrigger';import Button from'react-bootstrap/Button';import ListGroupItem from'react-bootstrap/ListGroupItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopOv(_ref){var results=_ref.results,callModal=_ref.callModal;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),commentInput=_useState4[0],setComment=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),btnStates=_useState6[0],setStates=_useState6[1];var _useState7=useState({title:'',author:'',publisher:'',image:''}),_useState8=_slicedToArray(_useState7,2),bookInfo=_useState8[0],setBookInfo=_useState8[1];var popover=/*#__PURE__*/_jsxs(Popover,{id:\"popover-basic\",children:[/*#__PURE__*/_jsx(Popover.Header,{as:\"h3\",children:\"Tell us about your experience:\"}),/*#__PURE__*/_jsxs(Popover.Body,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btnClicked\",onClick:handleBtnClick,variant:\"warning\",children:\"Have Read\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btnClicked\",onClick:handleBtnClick,variant:\"warning\",children:\"Will Read\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btnClicked\",id:\"like\",onClick:handleBtnClick,children:\"Liked\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btnClicked\",id:\"dislike\",onClick:handleBtnClick,children:\"Disliked\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleBtnSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"nameLabel\",htmlFor:\"search\",children:\"Enter Your Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:user,maxLength:\"20\",placeholder:\"Daniel Escalona\",onChange:function onChange(e){return setUser(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"commentLabel\",htmlFor:\"search\",children:\"Share your Comments:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"commentInput\",type:\"text\",maxLength:\"150\",value:commentInput,placeholder:\"Wonderful book!\",onChange:function onChange(e){return setComment(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]})]});function handleBtnClick(e){if(e.target.className===\"btnClicked\"){e.target.className=\"myBtns\";if(e.target.innerText===\"Liked\"){var srch=btnStates.filter(function(obj){return obj!=='Disliked';});setStates([].concat(_toConsumableArray(srch),[e.target.innerText]));var btn=document.querySelector('#dislike');btn.className=\"btnClicked\";}else if(e.target.innerText===\"Disliked\"){var _srch=btnStates.filter(function(obj){return obj!=='Liked';});setStates([].concat(_toConsumableArray(_srch),[e.target.innerText]));var _btn=document.querySelector('#like');_btn.className=\"btnClicked\";}else{setStates([].concat(_toConsumableArray(btnStates),[e.target.innerText]));}}else{e.target.className=\"btnClicked\";setStates(btnStates.filter(function(btnObj){return btnObj!==e.target.innerText;}));}}function handleBtnSubmit(e){e.preventDefault();console.log(user);if(user.trim()===''||/[^a-zA-Z ]/.test(user)){callModal(false);}else{fetch('https://evening-temple-49691.herokuapp.com/books',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user:user,info:bookInfo,interactions:btnStates,comments:commentInput})}).then(function(){return callModal(true);}).catch(function(err){console.log(err);callModal(false);});}console.log('submitted');}function retrieveBookInfo(e){var _setBookInfo;setBookInfo((_setBookInfo={},_defineProperty(_setBookInfo,'title',e.target.parentNode.parentNode.parentNode.children[1].children[0].innerText),_defineProperty(_setBookInfo,'author',e.target.parentNode.parentNode.children[0].innerText.split(\": \")[1]),_defineProperty(_setBookInfo,'publisher',e.target.parentNode.parentNode.children[1].innerText.split(\": \")[1]),_defineProperty(_setBookInfo,'image',e.target.parentNode.parentNode.parentNode.children[0].src),_setBookInfo));}return results.type==='card'?/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(OverlayTrigger,{trigger:\"click\",placement:\"right\",overlay:popover,children:/*#__PURE__*/_jsx(Button,{onClick:retrieveBookInfo,variant:\"success\",children:\"Thoughts?\"})})}):null;}export default PopOv;","map":{"version":3,"names":["React","useState","Popover","OverlayTrigger","Button","ListGroupItem","PopOv","results","callModal","user","setUser","commentInput","setComment","btnStates","setStates","title","author","publisher","image","bookInfo","setBookInfo","popover","handleBtnClick","handleBtnSubmit","e","target","value","className","innerText","srch","filter","obj","btn","document","querySelector","btnObj","preventDefault","console","log","trim","test","fetch","method","headers","body","JSON","stringify","info","interactions","comments","then","catch","err","retrieveBookInfo","parentNode","children","split","src","type"],"sources":["/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/src/PopOv.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Popover from 'react-bootstrap/Popover'\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\nimport Button from 'react-bootstrap/Button'\nimport ListGroupItem from 'react-bootstrap/ListGroupItem'\n\nfunction PopOv({results, callModal}){\n\n  const [user, setUser] = useState('')\n  const [commentInput, setComment] = useState('')\n  const [btnStates, setStates] = useState([])\n  const [bookInfo, setBookInfo] = useState({title: '', author: '', publisher: '', image: ''})\n\n  const popover = (\n    <Popover id=\"popover-basic\">\n      <Popover.Header as=\"h3\">Tell us about your experience:</Popover.Header>\n      <Popover.Body>\n        <button className=\"btnClicked\" onClick={handleBtnClick} variant=\"warning\">Have Read</button>\n        <button className=\"btnClicked\" onClick={handleBtnClick}  variant=\"warning\">Will Read</button>\n        <button className=\"btnClicked\" id=\"like\" onClick={handleBtnClick} >Liked</button>\n        <button className=\"btnClicked\" id=\"dislike\" onClick={handleBtnClick} >Disliked</button>\n        <form onSubmit={handleBtnSubmit}>\n            <label className=\"nameLabel\" htmlFor=\"search\">Enter Your Name:</label>\n            <input type=\"text\" value={user} maxLength=\"20\" placeholder=\"Daniel Escalona\" onChange={e => setUser(e.target.value)}/>\n            <label className=\"commentLabel\" htmlFor=\"search\">Share your Comments:</label>\n            <input className=\"commentInput\" type=\"text\" maxLength=\"150\" value={commentInput} placeholder=\"Wonderful book!\" onChange={e => setComment(e.target.value)}/>\n            <button type=\"submit\">Submit</button>\n        </form>\n      </Popover.Body>\n    </Popover>\n  );\n\n  function handleBtnClick(e) {\n  \n    if(e.target.className === \"btnClicked\"){\n      e.target.className = \"myBtns\"\n      if(e.target.innerText === \"Liked\"){\n        const srch = btnStates.filter( obj => obj !== 'Disliked')\n        setStates([...srch, e.target.innerText])\n        let btn = document.querySelector('#dislike')\n        btn.className = \"btnClicked\"\n        \n      }else if (e.target.innerText === \"Disliked\"){\n        const srch = btnStates.filter( obj => obj !== 'Liked')\n        setStates([...srch, e.target.innerText])\n        let btn = document.querySelector('#like')\n        btn.className = \"btnClicked\"\n      }else{\n        setStates([...btnStates, e.target.innerText])\n      }\n    }else{\n      e.target.className = \"btnClicked\"\n      setStates( btnStates.filter( btnObj => btnObj !== e.target.innerText))\n    }\n  }\n\n\n  \n  function handleBtnSubmit(e) {\n    e.preventDefault()\n\n    console.log(user)\n    if(user.trim() === '' || /[^a-zA-Z ]/.test(user)){\n      callModal(false)\n    }else{\n      fetch('https://evening-temple-49691.herokuapp.com/books', {\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\" },\n      body: JSON.stringify({user: user, info: bookInfo, interactions: btnStates, comments: commentInput})\n    })\n      .then( () => callModal(true))\n      .catch( err => {\n        console.log(err)\n        callModal(false)\n      })\n    }\n    \n    console.log('submitted')\n  }\n\n  function retrieveBookInfo(e){\n  \n    setBookInfo({['title']: e.target.parentNode.parentNode.parentNode.children[1].children[0].innerText, ['author']: e.target.parentNode.parentNode.children[0].innerText.split(\": \")[1], ['publisher']: e.target.parentNode.parentNode.children[1].innerText.split(\": \")[1], ['image']: e.target.parentNode.parentNode.parentNode.children[0].src})\n  }\n\n  return results.type === 'card' ? <ListGroupItem><OverlayTrigger trigger=\"click\" placement=\"right\" overlay={popover}>\n  <Button onClick={retrieveBookInfo} variant=\"success\">Thoughts?</Button>\n  </OverlayTrigger></ListGroupItem>: null}\n\nexport default PopOv"],"mappings":"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"},"metadata":{},"sourceType":"module"}