{"ast":null,"code":"import _toConsumableArray from\"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Button from'react-bootstrap/Button';import CardItem from'./CardItem';import DiscoverSearch from'./DiscoverSearch';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ReviewForm(){var _useState=useState({type:'',items:[]}),_useState2=_slicedToArray(_useState,2),dataBase=_useState2[0],setDataBase=_useState2[1];var _useState3=useState({type:'',items:[]}),_useState4=_slicedToArray(_useState3,2),display=_useState4[0],setDisplay=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hideComponent=_useState6[0],setHide=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),resultTitle=_useState8[0],setTitle=_useState8[1];useEffect(function(){fetch('https://evening-temple-49691.herokuapp.com/books').then(function(data){return data.json();}).then(function(data){var _setDataBase,_setDisplay;setDataBase((_setDataBase={},_defineProperty(_setDataBase,'type','discover'),_defineProperty(_setDataBase,'items',data.filter(function(book){return book.info?book:undefined;})),_setDataBase));setDisplay((_setDisplay={},_defineProperty(_setDisplay,'type','init'),_defineProperty(_setDisplay,'items',data.filter(function(bookObj){return bookObj.id>data.length-5;})),_setDisplay));});},[]);function findItems(data,tipo){var _setDisplay2;setTitle(data);setDisplay((_setDisplay2={},_defineProperty(_setDisplay2,'type','notinit'),_defineProperty(_setDisplay2,'items',dataBase.items.filter(function(bookObj){return bookObj.info[tipo].toLowerCase().includes(data.trim().toLowerCase());})),_setDisplay2));}function sortDisplay(e){console.log(e.target);var aux=e.target.innerText.toLowerCase();var sorted=display.items.sort(function(a,b){var nameA=a.info[aux].toUpperCase();// ignore upper and lowercase\nvar nameB=b.info[aux].toUpperCase();// ignore upper and lowercase\nif(nameA<nameB){return-1;}if(nameA>nameB){return 1;}// names must be equal\nreturn 0;});setDisplay(_objectSpread(_objectSpread({},display),{},_defineProperty({},'items',_toConsumableArray(sorted))));}function showComponent(e){setHide(true);e.target.remove();}function goBacktoFive(){var _setDisplay3;setDisplay((_setDisplay3={},_defineProperty(_setDisplay3,'type','init'),_defineProperty(_setDisplay3,'items',dataBase.items.filter(function(bookObj){return bookObj.id>dataBase.items.length-5;})),_setDisplay3));}return/*#__PURE__*/_jsxs(\"div\",{id:\"books\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"See what people are talking about in the book community\"}),/*#__PURE__*/_jsx(\"div\",{id:\"search-list\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-item\",children:[/*#__PURE__*/_jsx(Button,{onClick:showComponent,id:\"initialBtn\",children:\"Advanced Search\"}),' ',hideComponent?/*#__PURE__*/_jsx(DiscoverSearch,{fetchInput:findItems}):null,/*#__PURE__*/_jsx(\"h2\",{id:\"dynamicTitle\",children:display.type==='init'?'LATEST 5 ENTRIES':\"SEARCH RESULTS FOR: \".concat(resultTitle)}),display.type==='notinit'?/*#__PURE__*/_jsx(Button,{onClick:goBacktoFive,id:\"backtofive\",children:\"BACK TO LATEST 5\"}):null,/*#__PURE__*/_jsx(\"h5\",{id:\"little\",children:\"Organize alphabetically by:\"}),/*#__PURE__*/_jsx(Button,{id:\"filter1\",onClick:sortDisplay,children:\"Title\"}),' ',/*#__PURE__*/_jsx(Button,{id:\"filter2\",onClick:sortDisplay,children:\"Author\"}),' ',/*#__PURE__*/_jsx(Button,{id:\"filter3\",onClick:sortDisplay,children:\"Publisher\"}),' ',display.items.map(function(bookObj){return/*#__PURE__*/_jsx(CardItem,{book:bookObj,results:dataBase},bookObj.id);})]})})]});}export default ReviewForm;","map":{"version":3,"names":["React","useState","useEffect","Button","CardItem","DiscoverSearch","ReviewForm","type","items","dataBase","setDataBase","display","setDisplay","hideComponent","setHide","resultTitle","setTitle","fetch","then","data","json","filter","book","info","undefined","bookObj","id","length","findItems","tipo","toLowerCase","includes","trim","sortDisplay","e","console","log","target","aux","innerText","sorted","sort","a","b","nameA","toUpperCase","nameB","showComponent","remove","goBacktoFive","map"],"sources":["/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/src/Discover.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Button from 'react-bootstrap/Button'\nimport CardItem from './CardItem'\nimport DiscoverSearch from './DiscoverSearch'\n\nfunction ReviewForm(){\n\n  const [dataBase, setDataBase] = useState({type: '', items: []})\n\n  const [display, setDisplay] = useState({type: '', items: []})\n  const [hideComponent, setHide] = useState(false)\n  const [resultTitle, setTitle] = useState('')\n\n  useEffect(() => {\n    fetch('https://evening-temple-49691.herokuapp.com/books')\n      .then( data => data.json() )\n      .then( data => {\n        setDataBase({['type']: 'discover', ['items']: data.filter(book => book.info ? book:undefined)})\n        setDisplay({['type']: 'init', ['items']: data.filter( bookObj => bookObj.id > data.length-5)})\n      })\n  }, []);\n\n  function findItems(data, tipo){\n    setTitle(data)\n    setDisplay({['type']: 'notinit', ['items']: dataBase.items.filter( bookObj => bookObj.info[tipo].toLowerCase().includes(data.trim().toLowerCase()))})\n    \n  }\n\n  function sortDisplay(e){\n    console.log(e.target)\n    let aux = e.target.innerText.toLowerCase()\n\n    const sorted = display.items.sort(function(a, b) {\n      const nameA = a.info[aux].toUpperCase(); // ignore upper and lowercase\n      const nameB = b.info[aux].toUpperCase(); // ignore upper and lowercase\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n    \n      // names must be equal\n      return 0;\n    });\n    setDisplay({...display, ['items']: [...sorted]})\n  }\n\n  function showComponent(e){\n    setHide(true)\n    e.target.remove()\n  }\n\n  function goBacktoFive(){\n    setDisplay({['type']: 'init', ['items']: dataBase.items.filter( bookObj => bookObj.id > dataBase.items.length-5)})\n  }\n\n  return (\n    <div id=\"books\">\n    <h1 className=\"title\">See what people are talking about in the book community</h1>\n      <div id=\"search-list\">\n        <div className=\"search-item\">\n\n        <Button onClick={showComponent} id=\"initialBtn\" >Advanced Search</Button>{' '}\n        {hideComponent ? <DiscoverSearch fetchInput={findItems}/>: null}\n        <h2 id=\"dynamicTitle\">{display.type === 'init' ? 'LATEST 5 ENTRIES': `SEARCH RESULTS FOR: ${resultTitle}`}</h2>\n        {display.type === 'notinit' ? <Button onClick={goBacktoFive} id=\"backtofive\" >BACK TO LATEST 5</Button>: null}\n        <h5 id=\"little\">Organize alphabetically by:</h5>\n        <Button id=\"filter1\" onClick={sortDisplay} >Title</Button>{' '}\n        <Button id=\"filter2\" onClick={sortDisplay} >Author</Button>{' '}\n        <Button id=\"filter3\" onClick={sortDisplay} >Publisher</Button>{' '}\n\n        { display.items.map( bookObj => <CardItem key={bookObj.id} book={bookObj} results={dataBase}/>)}\n      \n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ReviewForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}