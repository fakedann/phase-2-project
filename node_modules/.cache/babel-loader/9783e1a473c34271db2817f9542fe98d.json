{"ast":null,"code":"import _defineProperty from\"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Button from'react-bootstrap/Button';import CardItem from\"./CardItem\";import Modal from'react-bootstrap/Modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expand=_useState2[0],setExpand=_useState2[1];var _useState3=useState({type:'',items:[]}),_useState4=_slicedToArray(_useState3,2),books=_useState4[0],setBooks=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var displayedCards=books.items.map(function(bookObj){return/*#__PURE__*/_jsx(CardItem,{book:bookObj,results:books,callModal:callModal},bookObj.title);});var topFiveBooks=[];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),condModal=_useState10[0],setModal=_useState10[1];console.log(process.env.REACT_APP_KEY);useEffect(function(){setLoading(true);fetch(\"https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=\".concat(process.env.REACT_APP_KEY)).then(function(data){return data.json();}).then(function(d){var _setBooks;return setBooks((_setBooks={},_defineProperty(_setBooks,'type','card'),_defineProperty(_setBooks,'items',_toConsumableArray(d.results.books)),_setBooks));}).catch(function(err){console.log(err);}).finally(function(){setLoading(false);});},[]);for(var i=0;i<5;i++){topFiveBooks.push(displayedCards[i]);}function handleClick(e){if(e.target.innerText===\"Expand\"){e.target.innerText=\"Collapse\";}else{e.target.innerText=\"Expand\";}setExpand(!expand);}function callModal(resp){setShow(true);setModal(resp);if(resp===true){setTimeout(function(){setShow(false);},2000);}}if(loading){return/*#__PURE__*/_jsx(\"h1\",{children:\"Data is loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Welcome to the New York Time's Best Seller Website!\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Dive into this week's best-seller list...\"}),/*#__PURE__*/_jsx(\"div\",{id:\"books\",children:/*#__PURE__*/_jsx(\"div\",{id:\"book-list\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"book-item\",children:[expand?displayedCards:topFiveBooks,/*#__PURE__*/_jsx(Button,{id:\"expBtn\",onClick:handleClick,variant:\"success\",children:\"Expand\"}),' ',/*#__PURE__*/_jsxs(Modal,{show:show,onHide:function onHide(){return setShow(false);},backdrop:\"static\",keyboard:false,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Notification\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:condModal?'Success!':'Invalid input. Please, try again.'})]})]})})})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","Button","CardItem","Modal","Home","expand","setExpand","type","items","books","setBooks","loading","setLoading","displayedCards","map","bookObj","callModal","title","topFiveBooks","show","setShow","condModal","setModal","console","log","process","env","REACT_APP_KEY","fetch","then","data","json","d","results","catch","err","finally","i","push","handleClick","e","target","innerText","resp","setTimeout"],"sources":["/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/src/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Button from 'react-bootstrap/Button'\nimport CardItem from \"./CardItem\";\nimport Modal from 'react-bootstrap/Modal'\n\nfunction Home(){\n\n  const [expand, setExpand] = useState(false)\n  const [books, setBooks] = useState({\n    type: '',\n    items: []\n  })\n  const [loading, setLoading] = useState(false);\n\n  const displayedCards = books.items.map( bookObj => <CardItem key={bookObj.title} book={bookObj} results={books} callModal={callModal}/>)\n  const topFiveBooks = []\n\n  const [show, setShow] = useState(false);\n  const [condModal, setModal] = useState(true)\n\n  console.log(process.env.REACT_APP_KEY);\n\n\n  useEffect(() => {\n    setLoading(true);\n    fetch(`https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=${process.env.REACT_APP_KEY}`)\n      .then( data => data.json())\n      .then( d => setBooks({['type']: 'card', ['items']: [...d.results.books]}) )\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  for(let i=0; i<5; i++){\n    topFiveBooks.push(displayedCards[i])\n  }\n\n  function handleClick(e){\n    if(e.target.innerText === \"Expand\"){\n      e.target.innerText = \"Collapse\"\n    }else{\n      e.target.innerText = \"Expand\"\n    }\n    setExpand(!expand)\n  }\n\n  function callModal(resp){\n    setShow(true)\n    setModal(resp)\n    if(resp === true){\n      setTimeout(() => {\n        setShow(false)\n      }, 2000);\n    }\n  }\n  \n  if (loading) {\n    return <h1>Data is loading...</h1>;\n  }\n\n  return (\n    <div className=\"home\">\n      <h1 className=\"title\">Welcome to the New York Time's Best Seller Website!</h1>\n      <h3>Dive into this week's best-seller list...</h3>\n      <div id=\"books\">\n        <div id=\"book-list\">\n          <div className=\"book-item\">\n            {expand ? displayedCards: topFiveBooks}\n            <Button id=\"expBtn\" onClick={handleClick} variant=\"success\">Expand</Button>{' '}\n            {<Modal\n            show={show}\n            onHide={() => setShow(false)}\n            backdrop=\"static\"\n            keyboard={false}\n          >\n            <Modal.Header closeButton>\n              <Modal.Title>Notification</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              {condModal ? 'Success!' :'Invalid input. Please, try again.'}\n            </Modal.Body>\n          </Modal>}\n          </div>\n        </div>\n      </div>\n    </div>  \n  )\n  \n}\n\nexport default Home"],"mappings":"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"},"metadata":{},"sourceType":"module"}