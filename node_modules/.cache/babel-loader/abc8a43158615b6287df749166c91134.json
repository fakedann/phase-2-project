{"ast":null,"code":"var _jsxFileName = \"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/src/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport CardItem from \"./CardItem\";\nimport Modal from 'react-bootstrap/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const [expand, setExpand] = useState(false);\n  const [books, setBooks] = useState({\n    type: '',\n    items: []\n  });\n  const [loading, setLoading] = useState(false);\n  const displayedCards = books.items.map(bookObj => /*#__PURE__*/_jsxDEV(CardItem, {\n    book: bookObj,\n    results: books,\n    callModal: callModal\n  }, bookObj.title, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 54\n  }, this));\n  const topFiveBooks = [];\n  const [show, setShow] = useState(false);\n  const [condModal, setModal] = useState(true);\n  console.log(process.env.REACT_APP_KEY);\n  useEffect(() => {\n    setLoading(true);\n    fetch(`https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=${process.env.REACT_APP_KEY}`).then(data => data.json()).then(d => setBooks({\n      ['type']: 'card',\n      ['items']: [...d.results.books]\n    })).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setLoading(false);\n    });\n  }, []);\n\n  for (let i = 0; i < 5; i++) {\n    topFiveBooks.push(displayedCards[i]);\n  }\n\n  function handleClick(e) {\n    if (e.target.innerText === \"Expand\") {\n      e.target.innerText = \"Collapse\";\n    } else {\n      e.target.innerText = \"Expand\";\n    }\n\n    setExpand(!expand);\n  }\n\n  function callModal(resp) {\n    setShow(true);\n    setModal(resp);\n\n    if (resp === true) {\n      setTimeout(() => {\n        setShow(false);\n      }, 2000);\n    }\n  }\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Data is loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"Welcome to the New York Time's Best Seller Website!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Dive into this week's best-seller list...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"books\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"book-list\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"book-item\",\n          children: [expand ? displayedCards : topFiveBooks, /*#__PURE__*/_jsxDEV(Button, {\n            id: \"expBtn\",\n            onClick: handleClick,\n            variant: \"success\",\n            children: \"Expand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), ' ', /*#__PURE__*/_jsxDEV(Modal, {\n            show: show,\n            onHide: () => setShow(false),\n            backdrop: \"static\",\n            keyboard: false,\n            children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n              closeButton: true,\n              children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                children: \"Notification\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n              children: condModal ? 'Success!' : 'Invalid input. Please, try again.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"81MPuwjUqQ0T/LXE32Qbh8JFFM0=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Button","CardItem","Modal","Home","expand","setExpand","books","setBooks","type","items","loading","setLoading","displayedCards","map","bookObj","callModal","title","topFiveBooks","show","setShow","condModal","setModal","console","log","process","env","REACT_APP_KEY","fetch","then","data","json","d","results","catch","err","finally","i","push","handleClick","e","target","innerText","resp","setTimeout"],"sources":["/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/src/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Button from 'react-bootstrap/Button'\nimport CardItem from \"./CardItem\";\nimport Modal from 'react-bootstrap/Modal'\n\nfunction Home(){\n\n  const [expand, setExpand] = useState(false)\n  const [books, setBooks] = useState({\n    type: '',\n    items: []\n  })\n  const [loading, setLoading] = useState(false);\n\n  const displayedCards = books.items.map( bookObj => <CardItem key={bookObj.title} book={bookObj} results={books} callModal={callModal}/>)\n  const topFiveBooks = []\n\n  const [show, setShow] = useState(false);\n  const [condModal, setModal] = useState(true)\n\n  console.log(process.env.REACT_APP_KEY);\n\n\n  useEffect(() => {\n    setLoading(true);\n    fetch(`https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=${process.env.REACT_APP_KEY}`)\n      .then( data => data.json())\n      .then( d => setBooks({['type']: 'card', ['items']: [...d.results.books]}) )\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  for(let i=0; i<5; i++){\n    topFiveBooks.push(displayedCards[i])\n  }\n\n  function handleClick(e){\n    if(e.target.innerText === \"Expand\"){\n      e.target.innerText = \"Collapse\"\n    }else{\n      e.target.innerText = \"Expand\"\n    }\n    setExpand(!expand)\n  }\n\n  function callModal(resp){\n    setShow(true)\n    setModal(resp)\n    if(resp === true){\n      setTimeout(() => {\n        setShow(false)\n      }, 2000);\n    }\n  }\n  \n  if (loading) {\n    return <h1>Data is loading...</h1>;\n  }\n\n  return (\n    <div className=\"home\">\n      <h1 className=\"title\">Welcome to the New York Time's Best Seller Website!</h1>\n      <h3>Dive into this week's best-seller list...</h3>\n      <div id=\"books\">\n        <div id=\"book-list\">\n          <div className=\"book-item\">\n            {expand ? displayedCards: topFiveBooks}\n            <Button id=\"expBtn\" onClick={handleClick} variant=\"success\">Expand</Button>{' '}\n            {<Modal\n            show={show}\n            onHide={() => setShow(false)}\n            backdrop=\"static\"\n            keyboard={false}\n          >\n            <Modal.Header closeButton>\n              <Modal.Title>Notification</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              {condModal ? 'Success!' :'Invalid input. Please, try again.'}\n            </Modal.Body>\n          </Modal>}\n          </div>\n        </div>\n      </div>\n    </div>  \n  )\n  \n}\n\nexport default Home"],"mappings":"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"},"metadata":{},"sourceType":"module"}