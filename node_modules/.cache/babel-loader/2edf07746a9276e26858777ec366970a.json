{"ast":null,"code":"var _jsxFileName = \"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/phase-2-project/src/Discover.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport CardItem from './CardItem';\nimport DiscoverSearch from './DiscoverSearch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ReviewForm() {\n  _s();\n\n  const [dataBase, setDataBase] = useState({\n    type: '',\n    items: []\n  });\n  const [show, setShow] = useState(false);\n  const [condModal, setModal] = useState(true);\n  const [display, setDisplay] = useState({\n    type: '',\n    items: []\n  });\n  const [hideComponent, setHide] = useState(false);\n  const [resultTitle, setTitle] = useState('');\n  useEffect(() => {\n    fetch('https://evening-temple-49691.herokuapp.com/books').then(data => data.json()).then(data => {\n      setDataBase({\n        ['type']: 'discover',\n        ['items']: data.filter(book => book.info ? book : undefined)\n      });\n      setDisplay({\n        ['type']: 'init',\n        ['items']: data.filter(bookObj => bookObj.id > data.length - 5)\n      });\n    });\n  }, []);\n  useEffect(() => {\n    if (display.type === 'notinit' && display.items.length > 0) {\n      callModal(true);\n    } else if (display.type === 'notinit') {\n      callModal(false);\n    }\n  }, [display]);\n\n  function callModal(resp) {\n    setShow(true);\n    setModal(resp);\n\n    if (resp === true) {\n      setTimeout(() => {\n        setShow(false);\n      }, 2000);\n    }\n  }\n\n  function findItems(data, tipo) {\n    setTitle(data);\n    setDisplay({\n      ['type']: 'notinit',\n      ['items']: dataBase.items.filter(bookObj => bookObj.info[tipo].toLowerCase().includes(data.trim().toLowerCase()))\n    });\n  }\n\n  function sortDisplay(e) {\n    console.log(e.target);\n    let aux = e.target.innerText.toLowerCase();\n    const sorted = display.items.sort(function (a, b) {\n      const nameA = a.info[aux].toUpperCase(); // ignore upper and lowercase\n\n      const nameB = b.info[aux].toUpperCase(); // ignore upper and lowercase\n\n      if (nameA < nameB) {\n        return -1;\n      }\n\n      if (nameA > nameB) {\n        return 1;\n      } // names must be equal\n\n\n      return 0;\n    });\n    setDisplay({ ...display,\n      ['items']: [...sorted]\n    });\n  }\n\n  function showComponent(e) {\n    setHide(true);\n    e.target.remove();\n  }\n\n  function goBacktoFive() {\n    setDisplay({\n      ['type']: 'init',\n      ['items']: dataBase.items.filter(bookObj => bookObj.id > dataBase.items.length - 5)\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"books\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"See what people are talking about in the book community\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"search-list\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-item\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: showComponent,\n          id: \"initialBtn\",\n          children: \"Advanced Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), ' ', hideComponent ? /*#__PURE__*/_jsxDEV(DiscoverSearch, {\n          fetchInput: findItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 26\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"dynamicTitle\",\n          children: display.type === 'init' ? 'LATEST 5 ENTRIES' : `SEARCH RESULTS FOR: ${resultTitle}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this), display.type === 'notinit' ? /*#__PURE__*/_jsxDEV(Button, {\n          onClick: goBacktoFive,\n          id: \"backtofive\",\n          children: \"BACK TO LATEST 5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 39\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"h5\", {\n          id: \"little\",\n          children: \"Organize alphabetically by:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          id: \"filter1\",\n          onClick: sortDisplay,\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n          id: \"filter2\",\n          onClick: sortDisplay,\n          children: \"Author\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n          id: \"filter3\",\n          onClick: sortDisplay,\n          children: \"Publisher\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), ' ', /*#__PURE__*/_jsxDEV(Modal, {\n          show: show,\n          onHide: () => setShow(false),\n          backdrop: \"static\",\n          keyboard: false,\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true,\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              children: \"Notification\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: condModal ? 'Success!' : 'Your search did not return any results. Please, try something else.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), display.items.map(bookObj => /*#__PURE__*/_jsxDEV(CardItem, {\n          book: bookObj,\n          results: dataBase\n        }, bookObj.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 41\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ReviewForm, \"nrFnXdifqJ1AOotv1aRiBkJwWmY=\");\n\n_c = ReviewForm;\nexport default ReviewForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReviewForm\");","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","CardItem","DiscoverSearch","ReviewForm","dataBase","setDataBase","type","items","show","setShow","condModal","setModal","display","setDisplay","hideComponent","setHide","resultTitle","setTitle","fetch","then","data","json","filter","book","info","undefined","bookObj","id","length","callModal","resp","setTimeout","findItems","tipo","toLowerCase","includes","trim","sortDisplay","e","console","log","target","aux","innerText","sorted","sort","a","b","nameA","toUpperCase","nameB","showComponent","remove","goBacktoFive","map"],"sources":["/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/phase-2-project/src/Discover.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport CardItem from './CardItem'\nimport DiscoverSearch from './DiscoverSearch'\n\nfunction ReviewForm(){\n\n  const [dataBase, setDataBase] = useState({type: '', items: []})\n\n  const [show, setShow] = useState(false);\n  const [condModal, setModal] = useState(true)\n\n  const [display, setDisplay] = useState({type: '', items: []})\n  const [hideComponent, setHide] = useState(false)\n  const [resultTitle, setTitle] = useState('')\n\n  useEffect(() => {\n    fetch('https://evening-temple-49691.herokuapp.com/books')\n      .then( data => data.json() )\n      .then( data => {\n        setDataBase({['type']: 'discover', ['items']: data.filter(book => book.info ? book:undefined)})\n        setDisplay({['type']: 'init', ['items']: data.filter( bookObj => bookObj.id > data.length-5)})\n      })\n  }, []);\n\n  useEffect( () => {\n    if(display.type === 'notinit' && display.items.length > 0){\n      callModal(true)\n    }else if(display.type === 'notinit'){\n      callModal(false)\n    }\n\n  }, [display])\n\n  function callModal(resp){\n    setShow(true)\n    setModal(resp)\n    if(resp === true){\n      setTimeout(() => {\n        setShow(false)\n      }, 2000);\n    }\n  }\n\n  function findItems(data, tipo){\n    setTitle(data)\n    setDisplay({['type']: 'notinit', ['items']: dataBase.items.filter( bookObj => bookObj.info[tipo].toLowerCase().includes(data.trim().toLowerCase()))})\n    \n  }\n\n  function sortDisplay(e){\n    console.log(e.target)\n    let aux = e.target.innerText.toLowerCase()\n\n    const sorted = display.items.sort(function(a, b) {\n      const nameA = a.info[aux].toUpperCase(); // ignore upper and lowercase\n      const nameB = b.info[aux].toUpperCase(); // ignore upper and lowercase\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n    \n      // names must be equal\n      return 0;\n    });\n    setDisplay({...display, ['items']: [...sorted]})\n  }\n\n  function showComponent(e){\n    setHide(true)\n    e.target.remove()\n  }\n\n  function goBacktoFive(){\n    setDisplay({['type']: 'init', ['items']: dataBase.items.filter( bookObj => bookObj.id > dataBase.items.length-5)})\n  }\n\n  return (\n    <div id=\"books\">\n    <h1 className=\"title\">See what people are talking about in the book community</h1>\n      <div id=\"search-list\">\n        <div className=\"search-item\">\n\n        <Button onClick={showComponent} id=\"initialBtn\" >Advanced Search</Button>{' '}\n        {hideComponent ? <DiscoverSearch fetchInput={findItems}/>: null}\n        <h2 id=\"dynamicTitle\">{display.type === 'init' ? 'LATEST 5 ENTRIES': `SEARCH RESULTS FOR: ${resultTitle}`}</h2>\n        {display.type === 'notinit' ? <Button onClick={goBacktoFive} id=\"backtofive\" >BACK TO LATEST 5</Button>: null}\n        <h5 id=\"little\">Organize alphabetically by:</h5>\n        <Button id=\"filter1\" onClick={sortDisplay} >Title</Button>{' '}\n        <Button id=\"filter2\" onClick={sortDisplay} >Author</Button>{' '}\n        <Button id=\"filter3\" onClick={sortDisplay} >Publisher</Button>{' '}\n\n            <Modal\n          show={show}\n          onHide={() => setShow(false)}\n          backdrop=\"static\"\n          keyboard={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Notification</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {condModal ? 'Success!' :'Your search did not return any results. Please, try something else.'}\n          </Modal.Body>\n        </Modal>\n\n        { display.items.map( bookObj => <CardItem key={bookObj.id} book={bookObj} results={dataBase}/>)}\n      \n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ReviewForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}