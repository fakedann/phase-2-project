{"ast":null,"code":"var _jsxFileName = \"/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/phase-2-project/src/PopOv.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Popover from 'react-bootstrap/Popover';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Button from 'react-bootstrap/Button';\nimport ListGroupItem from 'react-bootstrap/ListGroupItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PopOv(_ref) {\n  _s();\n\n  let {\n    results,\n    callModal\n  } = _ref;\n  const [user, setUser] = useState('');\n  const [commentInput, setComment] = useState('');\n  const [btnStates, setStates] = useState([]);\n  const [bookInfo, setBookInfo] = useState({\n    title: '',\n    author: '',\n    publisher: '',\n    image: ''\n  });\n\n  const popover = /*#__PURE__*/_jsxDEV(Popover, {\n    id: \"popover-basic\",\n    children: [/*#__PURE__*/_jsxDEV(Popover.Header, {\n      as: \"h3\",\n      children: \"Tell us about your experience:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popover.Body, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnClicked\",\n        onClick: handleBtnClick,\n        variant: \"warning\",\n        children: \"Have Read\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnClicked\",\n        onClick: handleBtnClick,\n        variant: \"warning\",\n        children: \"Will Read\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnClicked\",\n        id: \"like\",\n        onClick: handleBtnClick,\n        children: \"Liked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnClicked\",\n        id: \"dislike\",\n        onClick: handleBtnClick,\n        children: \"Disliked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleBtnSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"nameLabel\",\n          htmlFor: \"search\",\n          children: \"Enter Your Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: user,\n          maxLength: \"20\",\n          placeholder: \"Daniel Escalona\",\n          onChange: e => setUser(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"commentLabel\",\n          htmlFor: \"search\",\n          children: \"Share your Comments:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"commentInput\",\n          type: \"text\",\n          maxLength: \"150\",\n          value: commentInput,\n          placeholder: \"Wonderful book!\",\n          onChange: e => setComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n\n  function handleBtnClick(e) {\n    if (e.target.className === \"btnClicked\") {\n      e.target.className = \"myBtns\";\n\n      if (e.target.innerText === \"Liked\") {\n        const srch = btnStates.filter(obj => obj !== 'Disliked');\n        setStates([...srch, e.target.innerText]);\n        let btn = document.querySelector('#dislike');\n        btn.className = \"btnClicked\";\n      } else if (e.target.innerText === \"Disliked\") {\n        const srch = btnStates.filter(obj => obj !== 'Liked');\n        setStates([...srch, e.target.innerText]);\n        let btn = document.querySelector('#like');\n        btn.className = \"btnClicked\";\n      } else {\n        setStates([...btnStates, e.target.innerText]);\n      }\n    } else {\n      e.target.className = \"btnClicked\";\n      setStates(btnStates.filter(btnObj => btnObj !== e.target.innerText));\n    }\n  }\n\n  function handleBtnSubmit(e) {\n    e.preventDefault();\n    console.log(user);\n\n    if (user.trim() === '' || /[^a-zA-Z ]/.test(user)) {\n      callModal(false);\n    } else {\n      fetch('https://evening-temple-49691.herokuapp.com/books', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user: user,\n          info: bookInfo,\n          interactions: btnStates,\n          comments: commentInput\n        })\n      }).then(() => callModal(true)).catch(err => {\n        console.log(err);\n        callModal(false);\n      });\n    }\n\n    console.log('submitted');\n  }\n\n  function retrieveBookInfo(e) {\n    setBookInfo({\n      ['title']: e.target.parentNode.parentNode.parentNode.children[1].children[0].innerText,\n      ['author']: e.target.parentNode.parentNode.children[0].innerText.split(\": \")[1],\n      ['publisher']: e.target.parentNode.parentNode.children[1].innerText.split(\": \")[1],\n      ['image']: e.target.parentNode.parentNode.parentNode.children[0].src\n    });\n  }\n\n  return results.type === 'card' ? /*#__PURE__*/_jsxDEV(ListGroupItem, {\n    children: /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n      trigger: \"click\",\n      placement: \"right\",\n      overlay: popover,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: retrieveBookInfo,\n        variant: \"success\",\n        children: \"Thoughts?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 51\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 36\n  }, this) : null;\n}\n\n_s(PopOv, \"tjhdIxnkEUkmKuhqeCdM7ZNIYrU=\");\n\n_c = PopOv;\nexport default PopOv;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopOv\");","map":{"version":3,"names":["React","useState","Popover","OverlayTrigger","Button","ListGroupItem","PopOv","results","callModal","user","setUser","commentInput","setComment","btnStates","setStates","bookInfo","setBookInfo","title","author","publisher","image","popover","handleBtnClick","handleBtnSubmit","e","target","value","className","innerText","srch","filter","obj","btn","document","querySelector","btnObj","preventDefault","console","log","trim","test","fetch","method","headers","body","JSON","stringify","info","interactions","comments","then","catch","err","retrieveBookInfo","parentNode","children","split","src","type"],"sources":["/Users/danielescalona/Development/code/phase-2/phase-2-project/phase-2-project/phase-2-project/src/PopOv.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Popover from 'react-bootstrap/Popover'\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\nimport Button from 'react-bootstrap/Button'\nimport ListGroupItem from 'react-bootstrap/ListGroupItem'\n\nfunction PopOv({results, callModal}){\n\n  const [user, setUser] = useState('')\n  const [commentInput, setComment] = useState('')\n  const [btnStates, setStates] = useState([])\n  const [bookInfo, setBookInfo] = useState({title: '', author: '', publisher: '', image: ''})\n\n  const popover = (\n    <Popover id=\"popover-basic\">\n      <Popover.Header as=\"h3\">Tell us about your experience:</Popover.Header>\n      <Popover.Body>\n        <button className=\"btnClicked\" onClick={handleBtnClick} variant=\"warning\">Have Read</button>\n        <button className=\"btnClicked\" onClick={handleBtnClick}  variant=\"warning\">Will Read</button>\n        <button className=\"btnClicked\" id=\"like\" onClick={handleBtnClick} >Liked</button>\n        <button className=\"btnClicked\" id=\"dislike\" onClick={handleBtnClick} >Disliked</button>\n        <form onSubmit={handleBtnSubmit}>\n            <label className=\"nameLabel\" htmlFor=\"search\">Enter Your Name:</label>\n            <input type=\"text\" value={user} maxLength=\"20\" placeholder=\"Daniel Escalona\" onChange={e => setUser(e.target.value)}/>\n            <label className=\"commentLabel\" htmlFor=\"search\">Share your Comments:</label>\n            <input className=\"commentInput\" type=\"text\" maxLength=\"150\" value={commentInput} placeholder=\"Wonderful book!\" onChange={e => setComment(e.target.value)}/>\n            <button type=\"submit\">Submit</button>\n        </form>\n      </Popover.Body>\n    </Popover>\n  );\n\n  function handleBtnClick(e) {\n  \n    if(e.target.className === \"btnClicked\"){\n      e.target.className = \"myBtns\"\n      if(e.target.innerText === \"Liked\"){\n        const srch = btnStates.filter( obj => obj !== 'Disliked')\n        setStates([...srch, e.target.innerText])\n        let btn = document.querySelector('#dislike')\n        btn.className = \"btnClicked\"\n        \n      }else if (e.target.innerText === \"Disliked\"){\n        const srch = btnStates.filter( obj => obj !== 'Liked')\n        setStates([...srch, e.target.innerText])\n        let btn = document.querySelector('#like')\n        btn.className = \"btnClicked\"\n      }else{\n        setStates([...btnStates, e.target.innerText])\n      }\n    }else{\n      e.target.className = \"btnClicked\"\n      setStates( btnStates.filter( btnObj => btnObj !== e.target.innerText))\n    }\n  }\n\n\n  \n  function handleBtnSubmit(e) {\n    e.preventDefault()\n\n    console.log(user)\n    if(user.trim() === '' || /[^a-zA-Z ]/.test(user)){\n      callModal(false)\n    }else{\n      fetch('https://evening-temple-49691.herokuapp.com/books', {\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\" },\n      body: JSON.stringify({user: user, info: bookInfo, interactions: btnStates, comments: commentInput})\n    })\n      .then( () => callModal(true))\n      .catch( err => {\n        console.log(err)\n        callModal(false)\n      })\n    }\n    \n    console.log('submitted')\n  }\n\n  function retrieveBookInfo(e){\n  \n    setBookInfo({['title']: e.target.parentNode.parentNode.parentNode.children[1].children[0].innerText, ['author']: e.target.parentNode.parentNode.children[0].innerText.split(\": \")[1], ['publisher']: e.target.parentNode.parentNode.children[1].innerText.split(\": \")[1], ['image']: e.target.parentNode.parentNode.parentNode.children[0].src})\n  }\n\n  return results.type === 'card' ? <ListGroupItem><OverlayTrigger trigger=\"click\" placement=\"right\" overlay={popover}>\n  <Button onClick={retrieveBookInfo} variant=\"success\">Thoughts?</Button>\n  </OverlayTrigger></ListGroupItem>: null}\n\nexport default PopOv"],"mappings":"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"},"metadata":{},"sourceType":"module"}